<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
  </head>
  <body>
    <h1>Nodepop</h1>
    <h2>List of products</h2>
    <p>Products displayed: <%= products.length %></p>
    <ul>
      <% products.forEach(function(product){ %>
      <li style="list-style: none">
        <h2><%= product.name %></h2>
        <p><%= product.price ? `Price: ${product.price} â‚¬` : '' %></p>
        <% if (fields !== 'name' && fields !== 'price' && fields !== 'tags') {
        %>
        <p><%= product.sale ? 'On sale: Yes' : 'On sale: No' %></p>
        <% } %>
        <img src="<%= product.photo %>" style="width: 150px" />
        <p><%= product.tags ? `Tags: ${product.tags.join(', ')}` : '' %></p>
      </li>
      <% }); %>
    </ul>
  </body>
</html>
